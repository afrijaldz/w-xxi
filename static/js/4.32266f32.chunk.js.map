{"version":3,"sources":["config.js","components/FourColGrid/FourColGrid.js","components/MovieThumb/MovieThumb.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/HeroImage/HeroImage.js","components/SearchBar/SearchBar.js","components/LoadMore/LoadMore.js","pages/Home/Home.js"],"names":["API_URL","API_KEY","IMAGE_BASE_URL","BACKDROP_SIZE","POSTER_SIZE","APP_NAME","FourColGrid","props","className","header","loading","children","map","element","i","key","MovieThumb","clickable","to","pathname","movieId","movieName","src","image","alt","_toConsumableArray","arr","Array","isArray","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","HeroImage","style","background","title","text","SearchBar","state","value","timeout","doSearch","event","setState","target","clearTimeout","setTimeout","callback","size","icon","faSearch","type","placeholder","onChange","this","React","Component","LoadMore","onClick","Home","heroImage","movies","currentPage","totalPages","searchTerm","searchItems","endpoint","fetchItems","loadMoreItems","fetch","then","result","json","results","Math","floor","random","page","total_pages","console","log","backdrop_path","original_title","overview","poster_path","id","Spinner"],"mappings":"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","file":"static/js/4.32266f32.chunk.js","sourcesContent":["const API_URL = 'https://api.themoviedb.org/3'\nconst API_KEY = '844dba0bfd8f3a4f3799f6130ef9e335'\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p'\nconst BACKDROP_SIZE = 'w1280'\nconst POSTER_SIZE = 'w500'\n\nconst APP_NAME = 'w-xxi'\n\nexport {\n  API_KEY,\n  API_URL,\n  APP_NAME,\n  IMAGE_BASE_URL,\n  BACKDROP_SIZE,\n  POSTER_SIZE,\n}","import React from 'react'\nimport './FourColGrid.css'\n\nfunction FourColGrid(props) {\n  const renderElements = () => {\n    const gridElements = props.children.map((element, i) => (\n      <div key={i} className=\"wln-grid-element\">\n        {element}\n      </div>\n    ))\n\n    return gridElements\n  }\n\n  return (\n    <div className=\"wln-grid\">\n      {props.header && !props.loading ? <h1>{props.header}</h1> : null}\n      <div className=\"wln-grid-content\">\n        {renderElements()}\n      </div>\n    </div>\n  )\n}\n\nexport default FourColGrid","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport './MovieThumb.css'\n\nconst MovieThumb = props => (\n  <div className=\"wln-moviethumb\">\n    {props.clickable ? (\n      <Link\n        to={{\n          pathname: `/${props.movieId}`,\n          movieName: `${props.movieName}`,\n        }}\n      >\n        <img src={props.image} alt=\"moviethumb\" />\n      </Link>\n    ) : (\n      <img src={props.image} alt=\"moviethumb\" />\n    )}\n  </div>\n)\n\nMovieThumb.propTypes = {\n  image: PropTypes.string,\n  movieId: PropTypes.number,\n  movieName: PropTypes.string,\n}\n\nexport default MovieThumb","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from 'react'\nimport './HeroImage.css'\n\nconst HeroImage = props => (\n  <div\n    className=\"wln-heroimage\"\n    style={{\n      background: `\n        linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0.2) 41%, rgba(0, 0, 0, 0.9) 100%), url('${props.image}'), #1c1c1c\n      `\n    }}\n  >\n    <div className=\"wln-heroimage-content\">\n      <div className=\"wln-heroimage-text\">\n        <h1>{props.title}</h1>\n        <p>{props.text}</p>\n      </div>\n    </div>\n  </div>\n)\n\nexport default HeroImage","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport './SearchBar.css'\n\nclass SearchBar extends React.Component {\n  state = {\n    value: '',\n  }\n\n  timeout = null\n\n  doSearch = event => {\n    this.setState({ value: event.target.value })\n    clearTimeout(this.timeout)\n\n    this.timeout = setTimeout(() => {\n      this.props.callback(this.state.value)\n    }, 500)\n  }\n\n  render() {\n    return (\n      <div className=\"wln-searchbar\">\n        <div className=\"wln-searchbar-content\">\n          <FontAwesomeIcon className=\"wln-fa-search\" size=\"2x\" icon={faSearch} />\n          <input\n            type=\"text\"\n            className=\"wln-searchbar-input\"\n            placeholder=\"Search\"\n            onChange={this.doSearch}\n            value={this.state.value}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SearchBar","import React from 'react'\nimport './LoadMore.css'\n\nconst LoadMore = props => (\n  <div className=\"wln-loadmorebtn\" onClick={props.onClick}>\n    <p>{props.text}</p>\n  </div>\n)\n\nexport default LoadMore","import React from 'react'\n\nimport {\n  API_URL,\n  API_KEY,\n  IMAGE_BASE_URL,\n  BACKDROP_SIZE,\n  POSTER_SIZE,\n} from '../../config'\n\nimport HeroImage from '../../components/HeroImage/HeroImage'\nimport SearchBar from '../../components/SearchBar/SearchBar'\nimport FourColGrid from '../../components/FourColGrid/FourColGrid'\nimport MovieThumb from '../../components/MovieThumb/MovieThumb'\nimport Spinner from '../../components/Spinner/Spinner'\nimport LoadMore from '../../components/LoadMore/LoadMore'\nimport './Home.css'\n\nclass Home extends React.Component {\n  state = {\n    heroImage: null,\n    loading: true,\n    movies: [],\n    currentPage: 0,\n    totalPages: 0,\n    searchTerm: '',\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true })\n    const endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    this.fetchItems(endpoint)\n  }\n\n  searchItems = searchTerm => {\n    let endpoint = ''\n    this.setState({\n      movies: [],\n      loading: true,\n      searchTerm,\n    })\n\n    if (searchTerm === '') {\n      endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    } else {\n      endpoint = `${API_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}`\n    }\n\n    this.fetchItems(endpoint)\n  }\n\n  loadMoreItems = () => {\n    let endpoint = ''\n    this.setState({ loading: true })\n    if (this.state.searchTerm === '') {\n      endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=${this.state.currentPage + 1}`\n    } else {\n      endpoint = `${API_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.state.searchTerm}&page=${this.state.currentPage + 1}`\n    }\n    this.fetchItems(endpoint)\n  }\n\n  fetchItems = endpoint => {\n    fetch(endpoint)\n      .then(result => result.json())\n      .then(result => {\n        this.setState({\n          movies: [ ...this.state.movies, ...result.results  ],\n          heroImage: this.state.heroImage || result.results[Math.floor(Math.random() * result.results.length)],\n          loading: false,\n          currentPage: result.page,\n          totalPages: result.total_pages,\n        })\n      })\n  }\n\n  render() {\n    console.log(...this.state.movies)\n    return (\n      <div className=\"wln-home\">\n        {this.state.heroImage ? (\n          <div>\n            <HeroImage\n              image={`${IMAGE_BASE_URL}/${BACKDROP_SIZE}${this.state.heroImage.backdrop_path}`}\n              title={this.state.heroImage.original_title}\n              text={this.state.heroImage.overview}\n            />\n            <SearchBar callback={this.searchItems} />\n          </div>\n        ) : null}\n        <div className=\"wln-home-grid\">\n          <FourColGrid\n            header={this.state.searchTerm ? \"Search result\" : \"Popular movies\"}\n            loading={this.state.loading}\n          >\n            {this.state.movies.map((element, i) => (\n              <MovieThumb\n                key={i}\n                clickable={true}\n                image={\n                  element.poster_path\n                  ? `${IMAGE_BASE_URL}/${POSTER_SIZE}${element.poster_path}`\n                  : './images/no_image.jpg'\n                }\n                movieId={element.id}\n                movieName={element.original_title}\n              />\n            ))}\n          </FourColGrid>\n          {this.state.loading ? <Spinner /> : null }\n          {this.state.currentPage <= this.state.totalPages && !this.state.loading ? (\n            <LoadMore text=\"Load more\" onClick={this.loadMoreItems} />\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Home"],"sourceRoot":""}