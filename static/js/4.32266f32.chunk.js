(window["webpackJsonpw-xxi"]=window["webpackJsonpw-xxi"]||[]).push([[4],{28:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return l}),a.d(t,"e",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"f",function(){return i});var n="https://api.themoviedb.org/3",c="844dba0bfd8f3a4f3799f6130ef9e335",r="https://image.tmdb.org/t/p",o="w1280",i="w500",l="w-xxi"},32:function(e,t,a){"use strict";var n=a(0),c=a.n(n);a(33);t.a=function(e){return c.a.createElement("div",{className:"wln-grid"},e.header&&!e.loading?c.a.createElement("h1",null,e.header):null,c.a.createElement("div",{className:"wln-grid-content"},e.children.map(function(e,t){return c.a.createElement("div",{key:t,className:"wln-grid-element"},e)})))}},33:function(e,t,a){},34:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(8);a(35);t.a=function(e){return c.a.createElement("div",{className:"wln-moviethumb"},e.clickable?c.a.createElement(r.b,{to:{pathname:"/".concat(e.movieId),movieName:"".concat(e.movieName)}},c.a.createElement("img",{src:e.image,alt:"moviethumb"})):c.a.createElement("img",{src:e.image,alt:"moviethumb"}))}},35:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},54:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.r(t);var c=a(29),r=a(30),o=a(36),i=a(31),l=a(37),s=a(0),m=a.n(s),u=a(28),h=(a(40),function(e){return m.a.createElement("div",{className:"wln-heroimage",style:{background:"\n        linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0.2) 41%, rgba(0, 0, 0, 0.9) 100%), url('".concat(e.image,"'), #1c1c1c\n      ")}},m.a.createElement("div",{className:"wln-heroimage-content"},m.a.createElement("div",{className:"wln-heroimage-text"},m.a.createElement("h1",null,e.title),m.a.createElement("p",null,e.text))))}),g=a(38),d=a(39),f=(a(45),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.timeout=null,a.doSearch=function(e){a.setState({value:e.target.value}),clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.props.callback(a.state.value)},500)},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"wln-searchbar"},m.a.createElement("div",{className:"wln-searchbar-content"},m.a.createElement(g.a,{className:"wln-fa-search",size:"2x",icon:d.b}),m.a.createElement("input",{type:"text",className:"wln-searchbar-input",placeholder:"Search",onChange:this.doSearch,value:this.state.value})))}}]),t}(m.a.Component)),p=a(32),v=a(34),b=a(10),w=(a(46),function(e){return m.a.createElement("div",{className:"wln-loadmorebtn",onClick:e.onClick},m.a.createElement("p",null,e.text))}),E=(a(47),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={heroImage:null,loading:!0,movies:[],currentPage:0,totalPages:0,searchTerm:""},a.searchItems=function(e){var t="";a.setState({movies:[],loading:!0,searchTerm:e}),t=""===e?"".concat(u.b,"/movie/popular?api_key=").concat(u.a,"&language=en-US&page=1"):"".concat(u.b,"/search/movie?api_key=").concat(u.a,"&language=en-US&query=").concat(e),a.fetchItems(t)},a.loadMoreItems=function(){var e="";a.setState({loading:!0}),e=""===a.state.searchTerm?"".concat(u.b,"/movie/popular?api_key=").concat(u.a,"&language=en-US&page=").concat(a.state.currentPage+1):"".concat(u.b,"/search/movie?api_key=").concat(u.a,"&language=en-US&query=").concat(a.state.searchTerm,"&page=").concat(a.state.currentPage+1),a.fetchItems(e)},a.fetchItems=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({movies:[].concat(n(a.state.movies),n(e.results)),heroImage:a.state.heroImage||e.results[Math.floor(Math.random()*e.results.length)],loading:!1,currentPage:e.page,totalPages:e.total_pages})})},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var e="".concat(u.b,"/movie/popular?api_key=").concat(u.a,"&language=en-US&page=1");this.fetchItems(e)}},{key:"render",value:function(){var e;return(e=console).log.apply(e,n(this.state.movies)),m.a.createElement("div",{className:"wln-home"},this.state.heroImage?m.a.createElement("div",null,m.a.createElement(h,{image:"".concat(u.e,"/").concat(u.d).concat(this.state.heroImage.backdrop_path),title:this.state.heroImage.original_title,text:this.state.heroImage.overview}),m.a.createElement(f,{callback:this.searchItems})):null,m.a.createElement("div",{className:"wln-home-grid"},m.a.createElement(p.a,{header:this.state.searchTerm?"Search result":"Popular movies",loading:this.state.loading},this.state.movies.map(function(e,t){return m.a.createElement(v.a,{key:t,clickable:!0,image:e.poster_path?"".concat(u.e,"/").concat(u.f).concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})})),this.state.loading?m.a.createElement(b.a,null):null,this.state.currentPage<=this.state.totalPages&&!this.state.loading?m.a.createElement(w,{text:"Load more",onClick:this.loadMoreItems}):null))}}]),t}(m.a.Component));t.default=E}}]);
//# sourceMappingURL=4.32266f32.chunk.js.map