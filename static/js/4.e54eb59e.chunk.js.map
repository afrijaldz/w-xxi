{"version":3,"sources":["config.js","components/MovieThumb/MovieThumb.js","components/HeroImage/HeroImage.js","components/SearchBar/SearchBar.js","components/FourColGrid/FourColGrid.js","pages/Home/Home.js"],"names":["API_URL","API_KEY","IMAGE_BASE_URL","BACKDROP_SIZE","POSTER_SIZE","APP_NAME","MovieThumb","props","className","clickable","to","pathname","movieId","movieName","src","image","alt","HeroImage","style","background","title","text","SearchBar","state","value","timeout","doSearch","event","setState","target","clearTimeout","setTimeout","callback","size","icon","faSearch","type","placeholder","onChange","this","React","Component","FourColGrid","header","loading","children","map","element","i","key","Home","heroImage","movies","currentPage","totalPages","searchTerm","searchItems","endpoint","fetchItems","fetch","then","result","json","results","Math","floor","random","length","page","total_pages","console","log","backdrop_path","original_title","overview","poster_path","id","Spinner"],"mappings":"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","file":"static/js/4.e54eb59e.chunk.js","sourcesContent":["const API_URL = 'https://api.themoviedb.org/3'\nconst API_KEY = '844dba0bfd8f3a4f3799f6130ef9e335'\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p'\nconst BACKDROP_SIZE = 'w1280'\nconst POSTER_SIZE = 'w500'\n\nconst APP_NAME = 'w-xxi'\n\nexport {\n  API_KEY,\n  API_URL,\n  APP_NAME,\n  IMAGE_BASE_URL,\n  BACKDROP_SIZE,\n  POSTER_SIZE,\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport './MovieThumb.css'\n\nconst MovieThumb = props => (\n  <div className=\"wln-moviethumb\">\n    {props.clickable ? (\n      <Link\n        to={{\n          pathname: `/${props.movieId}`,\n          movieName: `${props.movieName}`,\n        }}\n      >\n        <img src={props.image} alt=\"moviethumb\" />\n      </Link>\n    ) : (\n      <img src={props.image} alt=\"moviethumb\" />\n    )}\n  </div>\n)\n\nMovieThumb.propTypes = {\n  image: PropTypes.string,\n  movieId: PropTypes.number,\n  movieName: PropTypes.string,\n}\n\nexport default MovieThumb","import React from 'react'\nimport './HeroImage.css'\n\nconst HeroImage = props => (\n  <div\n    className=\"wln-heroimage\"\n    style={{\n      background: `\n        linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0.2) 41%, rgba(0, 0, 0, 0.9) 100%), url('${props.image}'), #1c1c1c\n      `\n    }}\n  >\n    <div className=\"wln-heroimage-content\">\n      <div className=\"wln-heroimage-text\">\n        <h1>{props.title}</h1>\n        <p>{props.text}</p>\n      </div>\n    </div>\n  </div>\n)\n\nexport default HeroImage","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport './SearchBar.css'\n\nclass SearchBar extends React.Component {\n  state = {\n    value: '',\n  }\n\n  timeout = null\n\n  doSearch = event => {\n    this.setState({ value: event.target.value })\n    clearTimeout(this.timeout)\n\n    this.timeout = setTimeout(() => {\n      this.props.callback(this.state.value)\n    }, 500)\n  }\n\n  render() {\n    return (\n      <div className=\"wln-searchbar\">\n        <div className=\"wln-searchbar-content\">\n          <FontAwesomeIcon className=\"wln-fa-search\" size=\"2x\" icon={faSearch} />\n          <input\n            type=\"text\"\n            className=\"wln-searchbar-input\"\n            placeholder=\"Search\"\n            onChange={this.doSearch}\n            value={this.state.value}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SearchBar","import React from 'react'\nimport './FourColGrid.css'\n\nfunction FourColGrid(props) {\n  const renderElements = () => {\n    const gridElements = props.children.map((element, i) => (\n      <div key={i} className=\"wln-grid-element\">\n        {element}\n      </div>\n    ))\n\n    return gridElements\n  }\n\n  return (\n    <div className=\"wln-grid\">\n      {props.header && !props.loading ? <h1>{props.header}</h1> : null}\n      <div className=\"wln-grid-content\">\n        {renderElements()}\n      </div>\n    </div>\n  )\n}\n\nexport default FourColGrid","import React from 'react'\n\nimport {\n  API_URL,\n  API_KEY,\n  IMAGE_BASE_URL,\n  BACKDROP_SIZE,\n  POSTER_SIZE,\n} from '../../config'\n\nimport HeroImage from '../../components/HeroImage/HeroImage'\nimport SearchBar from '../../components/SearchBar/SearchBar'\nimport FourColGrid from '../../components/FourColGrid/FourColGrid'\nimport MovieThumb from '../../components/MovieThumb/MovieThumb'\nimport Spinner from '../../components/Spinner/Spinner'\nimport './Home.css'\n\nclass Home extends React.Component {\n  state = {\n    heroImage: null,\n    loading: true,\n    movies: [],\n    currentPage: 0,\n    totalPages: 0,\n    searchTerm: '',\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true })\n    const endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    this.fetchItems(endpoint)\n  }\n\n  searchItems = searchTerm => {\n    let endpoint = ''\n    this.setState({\n      movies: [],\n      loading: true,\n      searchTerm,\n    })\n\n    if (searchTerm === '') {\n      endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    } else {\n      endpoint = `${API_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}`\n    }\n\n    this.fetchItems(endpoint)\n  }\n\n  fetchItems = endpoint => {\n    fetch(endpoint)\n      .then(result => result.json())\n      .then(result => {\n        this.setState({\n          movies: [ ...this.state.movies, ...result.results  ],\n          heroImage: this.state.heroImage || result.results[Math.floor(Math.random() * result.results.length)],\n          loading: false,\n          currentPage: result.page,\n          totalPages: result.total_pages,\n        })\n      })\n  }\n\n  render() {\n    console.log(...this.state.movies)\n    return (\n      <div className=\"wln-home\">\n        {this.state.heroImage ? (\n          <div>\n            <HeroImage\n              image={`${IMAGE_BASE_URL}/${BACKDROP_SIZE}${this.state.heroImage.backdrop_path}`}\n              title={this.state.heroImage.original_title}\n              text={this.state.heroImage.overview}\n            />\n            <SearchBar callback={this.searchItems} />\n          </div>\n        ) : null}\n        <div className=\"wln-home-grid\">\n          <FourColGrid\n            header={this.state.searchTerm ? \"Search result\" : \"Popular movies\"}\n            loading={this.state.loading}\n          >\n            {this.state.movies.map((element, i) => (\n              <MovieThumb\n                key={i}\n                clickable={true}\n                image={\n                  element.poster_path\n                  ? `${IMAGE_BASE_URL}/${POSTER_SIZE}${element.poster_path}`\n                  : './images/no_image.jpg'\n                }\n                movieId={element.id}\n                movieName={element.original_title}\n              />\n            ))}\n          </FourColGrid>\n          {this.state.loading ? <Spinner /> : null }\n          {this.state.currentPage <= this.state.totalPages && !this.state.loading ? (\n            <div></div>\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Home"],"sourceRoot":""}