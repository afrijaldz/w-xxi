{"version":3,"sources":["config.js","components/HeroImage/HeroImage.js","components/SearchBar/SearchBar.js","components/FourColGrid/FourColGrid.js","components/MovieThumb/MovieThumb.js","pages/Home/Home.js"],"names":["API_URL","API_KEY","HeroImage","props","className","style","background","image","title","text","SearchBar","state","value","timeout","doSearch","event","setState","target","clearTimeout","setTimeout","callback","size","icon","faSearch","type","placeholder","onChange","this","React","Component","FourColGrid","header","loading","children","map","element","i","key","MovieThumb","clickable","to","pathname","movieId","movieName","src","alt","Home","heroImage","movies","currentPage","totalPages","searchTerm","searchItems","endpoint","fetchItems","fetch","then","result","json","results","Math","floor","random","length","page","total_pages","console","log","backdrop_path","original_title","overview","poster_path","id","Spinner"],"mappings":"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","file":"static/js/4.266625a3.chunk.js","sourcesContent":["const API_URL = 'https://api.themoviedb.org/3'\nconst API_KEY = '844dba0bfd8f3a4f3799f6130ef9e335'\n\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p'\nconst BACKDROP_SIZE = 'w1280'\n\nconst POSTER_SIZE = 'w500'\n\nexport {\n  API_KEY,\n  API_URL,\n  IMAGE_BASE_URL,\n  BACKDROP_SIZE,\n  POSTER_SIZE,\n}","import React from 'react'\nimport './HeroImage.css'\n\nconst HeroImage = props => (\n  <div\n    className=\"wln-heroimage\"\n    style={{\n      background: `\n        linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0.2) 41%, rgba(0, 0, 0, 0.9) 100%), url('${props.image}'), #1c1c1c\n      `\n    }}\n  >\n    <div className=\"wln-heroimage-content\">\n      <div className=\"wln-heroimage-text\">\n        <h1>{props.title}</h1>\n        <p>{props.text}</p>\n      </div>\n    </div>\n  </div>\n)\n\nexport default HeroImage","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport './SearchBar.css'\n\nclass SearchBar extends React.Component {\n  state = {\n    value: '',\n  }\n\n  timeout = null\n\n  doSearch = event => {\n    this.setState({ value: event.target.value })\n    clearTimeout(this.timeout)\n\n    this.timeout = setTimeout(() => {\n      this.props.callback(this.state.value)\n    }, 500)\n  }\n\n  render() {\n    return (\n      <div className=\"wln-searchbar\">\n        <div className=\"wln-searchbar-content\">\n          <FontAwesomeIcon className=\"wln-fa-search\" size=\"2x\" icon={faSearch} />\n          <input\n            type=\"text\"\n            className=\"wln-searchbar-input\"\n            placeholder=\"Search\"\n            onChange={this.doSearch}\n            value={this.state.value}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SearchBar","import React from 'react'\nimport './FourColGrid.css'\n\nfunction FourColGrid(props) {\n  const renderElements = () => {\n    const gridElements = props.children.map((element, i) => (\n      <div key={i} className=\"wln-grid-element\">\n        {element}\n      </div>\n    ))\n\n    return gridElements\n  }\n\n  return (\n    <div className=\"wln-grid\">\n      {props.header && !props.loading ? <h1>{props.header}</h1> : null}\n      <div className=\"wln-grid-content\">\n        {renderElements()}\n      </div>\n    </div>\n  )\n}\n\nexport default FourColGrid","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport './MovieThumb.css'\n\nconst MovieThumb = props => (\n  <div className=\"wln-moviethumb\">\n    {props.clickable ? (\n      <Link\n        to={{\n          pathname: `/${props.movieId}`,\n          movieName: `${props.movieName}`,\n        }}\n      >\n        <img src={props.image} alt=\"moviethumb\" />\n      </Link>\n    ) : (\n      <img src={props.image} alt=\"moviethumb\" />\n    )}\n  </div>\n)\n\nMovieThumb.propTypes = {\n  image: PropTypes.string,\n  movieId: PropTypes.number,\n  movieName: PropTypes.string,\n}\n\nexport default MovieThumb","import React from 'react'\n\nimport {\n  API_URL,\n  API_KEY,\n  IMAGE_BASE_URL,\n  BACKDROP_SIZE,\n  POSTER_SIZE,\n} from '../../config'\n\nimport HeroImage from '../../components/HeroImage/HeroImage'\nimport SearchBar from '../../components/SearchBar/SearchBar'\nimport FourColGrid from '../../components/FourColGrid/FourColGrid'\nimport MovieThumb from '../../components/MovieThumb/MovieThumb'\nimport Spinner from '../../components/Spinner/Spinner'\nimport './Home.css'\n\nclass Home extends React.Component {\n  state = {\n    heroImage: null,\n    loading: true,\n    movies: [],\n    currentPage: 0,\n    totalPages: 0,\n    searchTerm: '',\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true })\n    const endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    this.fetchItems(endpoint)\n  }\n\n  searchItems = searchTerm => {\n    let endpoint = ''\n    this.setState({\n      movies: [],\n      loading: true,\n      searchTerm,\n    })\n\n    if (searchTerm === '') {\n      endpoint = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`\n    } else {\n      endpoint = `${API_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}`\n    }\n\n    this.fetchItems(endpoint)\n  }\n\n  fetchItems = endpoint => {\n    fetch(endpoint)\n      .then(result => result.json())\n      .then(result => {\n        this.setState({\n          movies: [ ...this.state.movies, ...result.results  ],\n          heroImage: this.state.heroImage || result.results[Math.floor(Math.random() * result.results.length)],\n          loading: false,\n          currentPage: result.page,\n          totalPages: result.total_pages,\n        })\n      })\n  }\n\n  render() {\n    console.log(...this.state.movies)\n    return (\n      <div className=\"wln-home\">\n        {this.state.heroImage ? (\n          <div>\n            <HeroImage\n              image={`${IMAGE_BASE_URL}/${BACKDROP_SIZE}${this.state.heroImage.backdrop_path}`}\n              title={this.state.heroImage.original_title}\n              text={this.state.heroImage.overview}\n            />\n            <SearchBar callback={this.searchItems} />\n          </div>\n        ) : null}\n        <div className=\"wln-home-grid\">\n          <FourColGrid\n            header={this.state.searchTerm ? \"Search result\" : \"Popular movies\"}\n            loading={this.state.loading}\n          >\n            {this.state.movies.map((element, i) => (\n              <MovieThumb\n                key={i}\n                clickable={true}\n                image={\n                  element.poster_path\n                  ? `${IMAGE_BASE_URL}/${POSTER_SIZE}${element.poster_path}`\n                  : './images/no_image.jpg'\n                }\n                movieId={element.id}\n                movieName={element.original_title}\n              />\n            ))}\n          </FourColGrid>\n          {this.state.loading ? <Spinner /> : null }\n          {this.state.currentPage <= this.state.totalPages && !this.state.loading ? (\n            <div></div>\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Home"],"sourceRoot":""}