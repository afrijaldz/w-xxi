(window["webpackJsonpw-xxi"]=window["webpackJsonpw-xxi"]||[]).push([[4],{33:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(45),c=a(28),r=a(29),l=a(31),i=a(30),o=a(32),s=a(0),m=a.n(s),u="https://api.themoviedb.org/3",h="844dba0bfd8f3a4f3799f6130ef9e335",g=(a(33),function(e){return m.a.createElement("div",{className:"wln-heroimage",style:{background:"\n        linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0.2) 41%, rgba(0, 0, 0, 0.9) 100%), url('".concat(e.image,"'), #1c1c1c\n      ")}},m.a.createElement("div",{className:"wln-heroimage-content"},m.a.createElement("div",{className:"wln-heroimage-text"},m.a.createElement("h1",null,e.title),m.a.createElement("p",null,e.text))))}),v=a(34),d=a(39),p=(a(40),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.timeout=null,a.doSearch=function(e){a.setState({value:e.target.value}),clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.props.callback(a.state.value)},500)},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"wln-searchbar"},m.a.createElement("div",{className:"wln-searchbar-content"},m.a.createElement(v.a,{className:"wln-fa-search",size:"2x",icon:d.a}),m.a.createElement("input",{type:"text",className:"wln-searchbar-input",placeholder:"Search",onChange:this.doSearch,value:this.state.value})))}}]),t}(m.a.Component));a(41);var f=function(e){return m.a.createElement("div",{className:"wln-grid"},e.header&&!e.loading?m.a.createElement("h1",null,e.header):null,m.a.createElement("div",{className:"wln-grid-content"},e.children.map(function(e,t){return m.a.createElement("div",{key:t,className:"wln-grid-element"},e)})))},b=a(8),w=(a(42),function(e){return m.a.createElement("div",{className:"wln-moviethumb"},e.clickable?m.a.createElement(b.b,{to:{pathname:"/".concat(e.movieId),movieName:"".concat(e.movieName)}},m.a.createElement("img",{src:e.image,alt:"moviethumb"})):m.a.createElement("img",{src:e.image,alt:"moviethumb"}))}),E=a(10),k=(a(43),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={heroImage:null,loading:!0,movies:[],currentPage:0,totalPages:0,searchTerm:""},a.searchItems=function(e){var t="";a.setState({movies:[],loading:!0,searchTerm:e}),t=""===e?"".concat(u,"/movie/popular?api_key=").concat(h,"&language=en-US&page=1"):"".concat(u,"/search/movie?api_key=").concat(h,"&language=en-US&query=").concat(e),a.fetchItems(t)},a.fetchItems=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({movies:[].concat(Object(n.a)(a.state.movies),Object(n.a)(e.results)),heroImage:a.state.heroImage||e.results[Math.floor(Math.random()*e.results.length)],loading:!1,currentPage:e.page,totalPages:e.total_pages})})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var e="".concat(u,"/movie/popular?api_key=").concat(h,"&language=en-US&page=1");this.fetchItems(e)}},{key:"render",value:function(){var e;return(e=console).log.apply(e,Object(n.a)(this.state.movies)),m.a.createElement("div",{className:"wln-home"},this.state.heroImage?m.a.createElement("div",null,m.a.createElement(g,{image:"".concat("https://image.tmdb.org/t/p","/").concat("w1280").concat(this.state.heroImage.backdrop_path),title:this.state.heroImage.original_title,text:this.state.heroImage.overview}),m.a.createElement(p,{callback:this.searchItems})):null,m.a.createElement("div",{className:"wln-home-grid"},m.a.createElement(f,{header:this.state.searchTerm?"Search result":"Popular movies",loading:this.state.loading},this.state.movies.map(function(e,t){return m.a.createElement(w,{key:t,clickable:!0,image:e.poster_path?"".concat("https://image.tmdb.org/t/p","/").concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})})),this.state.loading?m.a.createElement(E.a,null):null,this.state.currentPage<=this.state.totalPages&&!this.state.loading?m.a.createElement("div",null):null))}}]),t}(m.a.Component));t.default=k}}]);
//# sourceMappingURL=4.266625a3.chunk.js.map